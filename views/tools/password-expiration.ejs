<%- include('../partials/head', { title: title }) %>
<%- include('../partials/navbar') %>

<style>
    /* Component Styles */
    .component-section {
        margin-bottom: 4rem;
        padding: 2rem;
        border: 1px solid var(--border-color);
        background: var(--bg-color);
    }

    /* 2Ô∏è‚É£ Page Identity */
    .identity-header {
        text-align: center;
        margin-bottom: 3rem;
    }
    .category-tag {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        background: var(--text-color);
        color: var(--bg-color);
        font-size: 0.875rem;
        text-transform: uppercase;
        margin-bottom: 1rem;
        font-weight: bold;
    }
    .identity-title {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        line-height: 1.2;
    }
    .identity-subtitle {
        font-size: 1.25rem;
        color: var(--text-light);
        max-width: 800px;
        margin: 0 auto;
    }

    /* 3Ô∏è‚É£ Authority & Trust */
    .authority-block {
        display: flex;
        justify-content: center;
        gap: 3rem;
        flex-wrap: wrap;
        text-align: left;
        border-bottom: 1px solid #eee;
        padding-bottom: 2rem;
    }
    .auth-profile {
        display: flex;
        align-items: center;
        gap: 1rem;
    }
    .auth-avatar {
        width: 50px;
        height: 50px;
        background: #eee;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: #666;
    }
    .trust-indicator {
        display: flex;
        align-items: center;
        color: var(--text-light);
        font-size: 0.9rem;
    }

    /* 4Ô∏è‚É£ Core Tool */
    .tool-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
    }
    @media (max-width: 768px) {
        .tool-container {
            grid-template-columns: 1fr;
        }
    }
    .tool-input-group {
        margin-bottom: 1.5rem;
    }
    .tool-input-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
    }
    .tool-input {
        width: 100%;
        padding: 0.75rem;
        font-size: 1rem;
        border: 2px solid var(--border-color);
        font-family: inherit;
    }
    .tool-select {
        width: 100%;
        padding: 0.75rem;
        font-size: 1rem;
        border: 2px solid var(--border-color);
        background: var(--bg-color);
    }
    .result-card {
        background: #f8f9fa;
        padding: 1.5rem;
        border: 1px solid #eee;
        margin-bottom: 1rem;
    }
    .metric-large {
        font-size: 2.5rem;
        font-weight: bold;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
    }
    .metric-label {
        text-transform: uppercase;
        font-size: 0.8rem;
        color: var(--text-light);
        letter-spacing: 1px;
    }
    .security-status {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-top: 1rem;
        padding: 1rem;
        border-left: 4px solid;
    }
    .security-status.safe {
        background: #e8f5e9;
        border-left-color: #4caf50;
    }
    .security-status.warning {
        background: #fff3e0;
        border-left-color: #ff9800;
    }
    .security-status.danger {
        background: #ffebee;
        border-left-color: #f44336;
    }
    .status-icon {
        font-size: 2rem;
    }
    .timeline {
        margin-top: 1.5rem;
        padding: 1rem;
        background: #f5f5f5;
        border-radius: 8px;
    }
    .timeline-item {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem 0;
        border-bottom: 1px solid #ddd;
    }
    .timeline-item:last-child {
        border-bottom: none;
    }

    /* 5Ô∏è‚É£ Guidance & 6Ô∏è‚É£ Educational */
    .content-article {
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.8;
    }
    .content-article h2 {
        font-size: 1.8rem;
        margin: 2rem 0 1rem;
    }
    .content-article h3 {
        font-size: 1.4rem;
        margin: 1.5rem 0 0.8rem;
    }
    .content-article p {
        margin-bottom: 1rem;
    }
    .content-article table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
    }
    .content-article th,
    .content-article td {
        padding: 0.75rem;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }
    .content-article th {
        background: #f5f5f5;
        font-weight: bold;
    }

    /* 7Ô∏è‚É£ FAQ */
    .faq-grid {
        display: grid;
        gap: 1.5rem;
    }
    .faq-item h3 {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
    }
    .faq-item p {
        color: var(--text-light);
        font-size: 0.95rem;
    }

    /* 8Ô∏è‚É£ Discovery */
    .discovery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
    }
    .tool-card {
        padding: 1.5rem;
        border: 1px solid #eee;
        text-decoration: none;
        color: inherit;
        display: block;
        transition: var(--transition);
    }
    .tool-card:hover {
        border-color: var(--primary-color);
        transform: translateY(-2px);
    }
    .tool-card h3 {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
    }
    .tool-card p {
        font-size: 0.85rem;
        color: var(--text-light);
    }
</style>

<div class="container">
    
    <!-- 2Ô∏è‚É£ Page Identity Component -->
    <section class="identity-header">
        <span class="category-tag">Cybersecurity & Productivity</span>
        <h1 class="identity-title">Password Expiration Date Calculator & Reminder</h1>
        <p class="identity-subtitle">Stay ahead of account lockouts by calculating exact expiration dates and setting timely rotation alerts.</p>
    </section>

    <!-- 3Ô∏è‚É£ Authority & Trust Component -->
    <section class="component-section" style="border:none; padding-top:0;">
        <div class="authority-block">
            <div class="auth-profile">
                <div class="auth-avatar">JP</div>
                <div>
                    <div style="font-weight:bold;">James Patterson, CISM</div>
                    <div style="font-size:0.8rem; color:var(--text-light);">IT Security Manager, Fortune 500</div>
                </div>
            </div>
            <div class="auth-profile">
                <div class="auth-avatar">LK</div>
                <div>
                    <div style="font-weight:bold;">Dr. Lisa Kumar, Ph.D.</div>
                    <div style="font-size:0.8rem; color:var(--text-light);">Identity Management Researcher</div>
                </div>
            </div>
            <div class="trust-indicator">
                <span style="margin-right:0.5rem;">‚úì</span>
                Aligned with NIST SP 800-63B Guidelines
            </div>
        </div>
    </section>

    <!-- 4Ô∏è‚É£ Core Tool Component (Main Tool) -->
    <section class="component-section" id="tool-interface">
        <div class="tool-container">
            <!-- Inputs -->
            <div class="tool-inputs">
                <div class="tool-input-group">
                    <label for="lastChangeDate">Last Password Change Date</label>
                    <input type="date" id="lastChangeDate" class="tool-input">
                    <small style="color: var(--text-light);">When did you last change this password?</small>
                </div>

                <div class="tool-input-group">
                    <label for="policyDuration">Password Policy Duration (Days)</label>
                    <select id="policyDuration" class="tool-select">
                        <option value="30">30 days (High Security)</option>
                        <option value="60">60 days (Standard Corporate)</option>
                        <option value="90" selected>90 days (Common Policy)</option>
                        <option value="180">180 days (Relaxed Policy)</option>
                        <option value="365">365 days (Minimal Rotation)</option>
                        <option value="custom">Custom Duration</option>
                    </select>
                    <input type="number" id="customDuration" class="tool-input" placeholder="Enter custom days" style="display:none; margin-top:0.5rem;">
                </div>

                <div class="tool-input-group">
                    <label for="leadTime">Reminder Lead Time (Days)</label>
                    <select id="leadTime" class="tool-select">
                        <option value="1">1 day (Last minute)</option>
                        <option value="3">3 days</option>
                        <option value="7" selected>7 days (Recommended)</option>
                        <option value="14">14 days (Early warning)</option>
                        <option value="30">30 days (Advance planning)</option>
                    </select>
                    <small style="color: var(--text-light);">How many days before expiration to be notified</small>
                </div>

                <div class="tool-input-group">
                    <label for="accountName">Account or Service Name (Optional)</label>
                    <input type="text" id="accountName" class="tool-input" placeholder="e.g., Corporate VPN, Email Account">
                    <small style="color: var(--text-light);">For reference when managing multiple accounts</small>
                </div>
            </div>

            <!-- Outputs -->
            <div class="tool-outputs">
                <div class="result-card">
                    <div class="metric-label">Expiration Date</div>
                    <div class="metric-large" id="expirationDate">--</div>
                    <div style="font-size: 0.9rem; color: var(--text-light);">Your password expires on this date</div>
                </div>

                <div class="result-card">
                    <div class="metric-label">Days Remaining</div>
                    <div class="metric-large" id="daysRemaining">--</div>
                    <div style="font-size: 0.9rem; color: var(--text-light);">Until password expires</div>
                </div>

                <div class="result-card">
                    <div class="metric-label">Recommended Rotation Date</div>
                    <div class="metric-large" id="rotationDate">--</div>
                    <div style="font-size: 0.9rem; color: var(--text-light);">Change password by this date</div>
                </div>

                <div class="security-status safe" id="securityStatus">
                    <div class="status-icon" id="statusIcon">‚úì</div>
                    <div>
                        <div style="font-weight: bold;" id="statusTitle">Enter dates to calculate</div>
                        <div style="font-size: 0.9rem; color: var(--text-light);" id="statusDescription">Set the last password change date to begin</div>
                    </div>
                </div>

                <div class="timeline" id="timeline">
                    <h4 style="margin-bottom: 1rem; color: var(--text-color);">Password Lifecycle Timeline</h4>
                    <div class="timeline-item">
                        <span>Last Changed:</span>
                        <strong id="timelineLastChanged">--</strong>
                    </div>
                    <div class="timeline-item">
                        <span>Reminder Alert:</span>
                        <strong id="timelineReminder">--</strong>
                    </div>
                    <div class="timeline-item">
                        <span>Expiration Date:</span>
                        <strong id="timelineExpiration">--</strong>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 5Ô∏è‚É£ Guidance Content Component -->
    <section class="component-section">
        <div class="content-article">
            <h2>How to Use This Tool</h2>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:2rem;">
                <div>
                    <h3>1. Enter Last Change Date</h3>
                    <p>Input the date when you last changed your password. This is the starting point for all calculations.</p>
                </div>
                <div>
                    <h3>2. Set Policy Duration</h3>
                    <p>Select your organization's password expiration policy (30, 60, 90 days) or enter a custom value.</p>
                </div>
            </div>
            
            <h3>How the Calculation Works</h3>
            <p>This calculator uses simple date arithmetic to track your password lifecycle:</p>
            <ul>
                <li><strong>Expiration Date</strong> = Last Change Date + Policy Duration</li>
                <li><strong>Reminder Date</strong> = Expiration Date - Lead Time</li>
                <li><strong>Days Remaining</strong> = Expiration Date - Today's Date</li>
            </ul>
            <p>The tool accounts for calendar days including weekends and holidays, providing exact dates for planning.</p>

            <h3>Interpreting Results</h3>
            <table>
                <tr>
                    <th>Status</th>
                    <th>Days Remaining</th>
                    <th>Action Required</th>
                </tr>
                <tr>
                    <td style="color: #4caf50;">‚úì Safe</td>
                    <td>&gt; 14 days</td>
                    <td>No action needed</td>
                </tr>
                <tr>
                    <td style="color: #ff9800;">‚ö† Warning</td>
                    <td>7-14 days</td>
                    <td>Plan to change soon</td>
                </tr>
                <tr>
                    <td style="color: #f44336;">üî¥ Critical</td>
                    <td>&lt; 7 days</td>
                    <td>Change password immediately</td>
                </tr>
                <tr>
                    <td style="color: #9e9e9e;">‚úó Expired</td>
                    <td>&lt; 0 days</td>
                    <td>Account may be locked</td>
                </tr>
            </table>

            <div style="background:#f8f9fa; padding:1.5rem; border-left:4px solid var(--primary-color); margin-top:1.5rem;">
                <strong>Disclaimer:</strong> This tool provides date calculations based on the information you enter. Actual password policies may vary by organization. Always verify expiration dates with your IT department. The authors are not responsible for account lockouts resulting from policy changes or calculation errors.
            </div>
        </div>
    </section>

    <!-- 6Ô∏è‚É£ Educational Content Component -->
    <section class="component-section">
        <div class="content-article">
            <h2>Understanding Password Expiration: A Complete Guide</h2>
            
            <h3>The Evolution of Password Expiration Policies</h3>
            <p>Password expiration has been a cornerstone of corporate security for decades. The traditional wisdom suggested that rotating passwords every 30-90 days would limit the window of opportunity for attackers who compromised credentials. However, modern security research has challenged this assumption.</p>
            <p>In 2017, NIST (National Institute of Standards and Technology) released SP 800-63B, which dramatically shifted recommendations. The updated guidelines suggest that forced periodic password changes may actually reduce security by encouraging predictable patterns (Password1, Password2, etc.) and increasing help desk burden.</p>

            <h3>Current Best Practices (2024)</h3>
            <p>Modern password policy balances security with usability:</p>
            <table>
                <tr>
                    <th>Scenario</th>
                    <th>Recommendation</th>
                    <th>Rationale</th>
                </tr>
                <tr>
                    <td>Standard user accounts</td>
                    <td>No forced expiration</td>
                    <td>Focus on strong initial passwords + MFA</td>
                </tr>
                <tr>
                    <td>Privileged accounts</td>
                    <td>90-180 days</td>
                    <td>Higher risk requires more frequent rotation</td>
                </tr>
                <tr>
                    <td>Shared service accounts</td>
                    <td>60-90 days</td>
                    <td>More exposure points increase risk</td>
                </tr>
                <tr>
                    <td>After suspected breach</td>
                    <td>Immediate</td>
                    <td>Proactive response to potential compromise</td>
                </tr>
            </table>

            <h3>Why Password Rotation Still Matters</h3>
            <p>Despite NIST's updated guidance, password expiration remains relevant in specific contexts:</p>
            <ul>
                <li><strong>Credential Stuffing Protection:</strong> Rotating passwords limits the value of leaked credentials in databases from previous breaches</li>
                <li><strong>Insider Threat Mitigation:</strong> Former employees with retained access become less of a risk over time</li>
                <li><strong>Compliance Requirements:</strong> Many regulations (PCI-DSS, HIPAA) still mandate periodic password changes</li>
                <li><strong>Shared Account Management:</strong> Service accounts and shared credentials benefit from regular rotation</li>
            </ul>

            <h3>The Psychology of Password Changes</h3>
            <p>Research shows that forced password changes often result in weaker security. Users tend to:</p>
            <ul>
                <li>Choose minor variations of previous passwords (Spring2023 ‚Üí Summer2023)</li>
                <li>Write passwords down or store them insecurely</li>
                <li>Reuse passwords across multiple systems</li>
                <li>Contact help desks more frequently for resets</li>
            </ul>
            <p>Organizations should pair expiration policies with password managers, SSO solutions, and multi-factor authentication to reduce friction while maintaining security.</p>

            <h3>Implementing a Balanced Policy</h3>
            <p>A modern password lifecycle strategy includes:</p>
            <ul>
                <li><strong>Initial Strength Requirements:</strong> 12+ characters with complexity at creation</li>
                <li><strong>Breach Monitoring:</strong> Automated checking against known compromised password databases</li>
                <li><strong>Risk-Based Rotation:</strong> Only expire passwords when compromise is suspected or detected</li>
                <li><strong>User Education:</strong> Training on unique, memorable passphrases rather than complex patterns</li>
                <li><strong>Multi-Factor Authentication:</strong> MFA reduces the criticality of password-only protection</li>
            </ul>

            <h3>When to Change Passwords Immediately</h3>
            <p>Certain events should trigger immediate password rotation regardless of schedule:</p>
            <ul>
                <li>Suspected account compromise or unusual login activity</li>
                <li>Notification of a data breach affecting the service</li>
                <li>Malware infection on devices used to access the account</li>
                <li>Phishing attack that may have captured credentials</li>
                <li>Employee termination or role change for shared accounts</li>
            </ul>
        </div>
    </section>

    <!-- 7Ô∏è‚É£ FAQ Component -->
    <section class="component-section">
        <h2 style="text-align:center; margin-bottom:2rem;">Frequently Asked Questions</h2>
        <div class="faq-grid">
            <div class="faq-item">
                <h3>How do I calculate when my password will expire?</h3>
                <p>Add your organization's password policy duration (e.g., 90 days) to your last password change date. This tool automates that calculation and accounts for calendar days, weekends, and leap years.</p>
            </div>
            <div class="faq-item">
                <h3>What is the recommended password rotation frequency for high security?</h3>
                <p>For privileged or high-security accounts, rotate every 60-90 days. Standard user accounts should use strong unique passwords without forced expiration if protected by MFA. Change immediately if compromise is suspected.</p>
            </div>
            <div class="faq-item">
                <h3>How can I prevent getting locked out of my corporate account?</h3>
                <p>Set a reminder 7-14 days before expiration, use a password manager to track dates, enable MFA as backup, and contact IT proactively if you're approaching expiration while traveling or on leave.</p>
            </div>
            <div class="faq-item">
                <h3>What are the NIST guidelines for password expiration?</h3>
                <p>NIST SP 800-63B (2017) recommends against mandatory periodic password changes for user accounts. Instead, focus on strong initial passwords, breach monitoring, and MFA. Only force changes when compromise is suspected.</p>
            </div>
            <div class="faq-item">
                <h3>How many days before expiration should I change my password?</h3>
                <p>Change your password 7-14 days before expiration to avoid last-minute issues. This buffer accounts for weekends, holidays, and unexpected technical problems. Never wait until the final day.</p>
            </div>
            <div class="faq-item">
                <h3>Do all organizations require password expiration?</h3>
                <p>No. Many modern organizations following NIST guidelines have eliminated forced expiration for standard accounts. However, compliance requirements (PCI-DSS, HIPAA) and high-security environments often still mandate rotation.</p>
            </div>
            <div class="faq-item">
                <h3>Can I use the same password after expiration if my organization allows it?</h3>
                <p>Most systems prevent immediate reuse of recent passwords. Even if allowed, avoid reusing old passwords as they may have been compromised. Always generate a new unique password for better security.</p>
            </div>
            <div class="faq-item">
                <h3>What happens if my password expires while I'm on vacation?</h3>
                <p>Expired passwords typically result in account lockout. Contact IT immediately upon return. To prevent this, change passwords before extended absences or enable MFA for temporary access restoration.</p>
            </div>
        </div>
    </section>

    <!-- 8Ô∏è‚É£ Internal Discovery Component -->
    <section class="component-section" style="border:none;">
        <h2 style="margin-bottom:1.5rem;">Related Security Tools</h2>
        <div class="discovery-grid">
            <a href="/tools/password-analyzer" class="tool-card">
                <h3>Password Strength Meter</h3>
                <p>Evaluate password complexity and resistance to attacks with detailed analysis.</p>
            </a>
            <a href="/tools/password-generator" class="tool-card">
                <h3>Random Password Generator</h3>
                <p>Create strong, unique passwords for immediate use when rotating credentials.</p>
            </a>
            <a href="/tools/entropy-calculator" class="tool-card">
                <h3>Password Entropy Calculator</h3>
                <p>Measure the mathematical unpredictability of your passwords in bits.</p>
            </a>
            <a href="/tools/bcrypt-calculator" class="tool-card">
                <h3>Bcrypt Cost Factor Calculator</h3>
                <p>Calculate optimal work factors for secure password hashing.</p>
            </a>
            <a href="/tools/2fa-generator" class="tool-card">
                <h3>Two-Factor Authentication Setup</h3>
                <p>Generate TOTP codes and configure MFA for enhanced account security.</p>
            </a>
            <a href="/tools/breach-checker" class="tool-card">
                <h3>Password Breach Checker</h3>
                <p>Verify if your current password has been exposed in known data breaches.</p>
            </a>
        </div>
    </section>

</div>

<script>
    // Password Expiration Calculator Logic
    document.addEventListener('DOMContentLoaded', () => {
        const lastChangeDate = document.getElementById('lastChangeDate');
        const policyDuration = document.getElementById('policyDuration');
        const customDuration = document.getElementById('customDuration');
        const leadTime = document.getElementById('leadTime');
        
        const expirationDateEl = document.getElementById('expirationDate');
        const daysRemainingEl = document.getElementById('daysRemaining');
        const rotationDateEl = document.getElementById('rotationDate');
        const securityStatusEl = document.getElementById('securityStatus');
        const statusIconEl = document.getElementById('statusIcon');
        const statusTitleEl = document.getElementById('statusTitle');
        const statusDescEl = document.getElementById('statusDescription');
        
        const timelineLastChangedEl = document.getElementById('timelineLastChanged');
        const timelineReminderEl = document.getElementById('timelineReminder');
        const timelineExpirationEl = document.getElementById('timelineExpiration');

        // Set today's date as default for last change
        const today = new Date();
        lastChangeDate.valueAsDate = today;

        function formatDate(date) {
            return date.toLocaleDateString('en-US', { 
                weekday: 'short', 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        function calculate() {
            const lastChange = new Date(lastChangeDate.value);
            const duration = policyDuration.value === 'custom' 
                ? parseInt(customDuration.value) || 90 
                : parseInt(policyDuration.value);
            const lead = parseInt(leadTime.value);

            if (!lastChangeDate.value || isNaN(lastChange.getTime())) {
                expirationDateEl.textContent = '--';
                daysRemainingEl.textContent = '--';
                rotationDateEl.textContent = '--';
                return;
            }

            // Calculate expiration date
            const expiration = new Date(lastChange);
            expiration.setDate(expiration.getDate() + duration);

            // Calculate reminder date
            const reminder = new Date(expiration);
            reminder.setDate(reminder.getDate() - lead);

            // Calculate days remaining
            const now = new Date();
            now.setHours(0, 0, 0, 0);
            const expCopy = new Date(expiration);
            expCopy.setHours(0, 0, 0, 0);
            const daysRemaining = Math.ceil((expCopy - now) / (1000 * 60 * 60 * 24));

            // Update outputs
            expirationDateEl.textContent = formatDate(expiration);
            daysRemainingEl.textContent = daysRemaining;
            rotationDateEl.textContent = formatDate(reminder);

            // Update timeline
            timelineLastChangedEl.textContent = formatDate(lastChange);
            timelineReminderEl.textContent = formatDate(reminder);
            timelineExpirationEl.textContent = formatDate(expiration);

            // Update security status
            updateSecurityStatus(daysRemaining);
        }

        function updateSecurityStatus(daysRemaining) {
            securityStatusEl.classList.remove('safe', 'warning', 'danger');
            
            if (daysRemaining < 0) {
                securityStatusEl.classList.add('danger');
                statusIconEl.textContent = '‚úó';
                statusTitleEl.textContent = 'Password Expired';
                statusDescEl.textContent = 'Your password has expired. Change it immediately to avoid lockout.';
                daysRemainingEl.style.color = '#f44336';
            } else if (daysRemaining <= 7) {
                securityStatusEl.classList.add('danger');
                statusIconEl.textContent = 'üî¥';
                statusTitleEl.textContent = 'Critical - Change Soon';
                statusDescEl.textContent = `${daysRemaining} days remaining. Change your password immediately.`;
                daysRemainingEl.style.color = '#f44336';
            } else if (daysRemaining <= 14) {
                securityStatusEl.classList.add('warning');
                statusIconEl.textContent = '‚ö†';
                statusTitleEl.textContent = 'Warning - Plan Ahead';
                statusDescEl.textContent = `${daysRemaining} days remaining. Schedule time to change your password.`;
                daysRemainingEl.style.color = '#ff9800';
            } else {
                securityStatusEl.classList.add('safe');
                statusIconEl.textContent = '‚úì';
                statusTitleEl.textContent = 'Password Valid';
                statusDescEl.textContent = `${daysRemaining} days remaining. No action needed at this time.`;
                daysRemainingEl.style.color = '#4caf50';
            }
        }

        // Event listeners
        lastChangeDate.addEventListener('change', calculate);
        policyDuration.addEventListener('change', () => {
            if (policyDuration.value === 'custom') {
                customDuration.style.display = 'block';
            } else {
                customDuration.style.display = 'none';
            }
            calculate();
        });
        customDuration.addEventListener('input', calculate);
        leadTime.addEventListener('change', calculate);

        // Initial calculation
        calculate();
    });
</script>

<%- include('../partials/footer') %>